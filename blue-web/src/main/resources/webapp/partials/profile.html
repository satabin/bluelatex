<div id="form-page">
    <h2 data-i18n="_Edit_profile_"></h2>
    <form name="editProfileForm">
        <div bl-messages></div>
        <div class="grid">
            <div class="col c1-3">
                <label for="username" data-i18n="_Username_"></label>
            </div>
            <div class="col c2-3 form-group"
              ng-class="{'has-error': editProfileForm.username.$invalid}">
              <input class="form-control" id="username" name="username" type="text" autofocus
                data-i18n-attr="_Username_|placeholder" required ng-model="user.name" />
                <span class="control-label"
                  ng-show="editProfileForm.username.$error.required" data-i18n="_Required_"></span>
            </div>
        </div>
        <div class="grid">
            <div class="col c1-3">
                <label for="first_name" data-i18n="_FirstName_"></label>
            </div>
            <div class="col c2-3 form-group"
              ng-class="{'has-error': editProfileForm.first_name.$invalid}">
              <input class="form-control" id="first_name" name="first_name" type="text"
                data-i18n-attr="_FirstName_|placeholder" required ng-model="user.first_name" />
                <span class="control-label"
                  ng-show="editProfileForm.first_name.$error.required" data-i18n="_Required_"></span>
            </div>
        </div>
        <div class="grid">
            <div class="col c1-3">
                <label for="last_name" data-i18n="_LastName_"></label>
            </div>
            <div class="col c2-3 form-group"
              ng-class="{'has-error': editProfileForm.last_name.$invalid}">
              <input class="form-control" id="last_name" name="last_name" type="text"
                data-i18n-attr="_LastName_|placeholder" required ng-model="user.last_name" />
                <span class="control-label"
                  ng-show="editProfileForm.last_name.$error.required" data-i18n="_Required_"></span>
            </div>
        </div>
        <div class="grid">
            <div class="col c1-3">
                <label for="email" data-i18n="_Email_" i18n-Tooltip="_email_tooltip_"></label>
            </div>
            <div class="col c2-3 form-group"
              ng-class="{'has-error': editProfileForm.email.$invalid}">
              <input class="form-control" id="email" name="email" type="text"
                data-i18n-attr="_Email_|placeholder" required ng-model="user.email" />
                <span class="control-label"
                  ng-show="editProfileForm.email.$error.required" data-i18n="_Required_"></span>
            </div>
        </div>
        <div class="grid">
            <div class="col c1-3">
                <label for="affiliation" data-i18n="_Affiliation_" i18n-Tooltip="_affiliation_tooltip_"></label>
            </div>
            <div class="col c2-3 form-group">
              <input class="form-control" id="affiliation" name="affiliation" type="text"
                data-i18n-attr="_Affiliation_|placeholder" ng-model="user.affiliation" />
                <span class="control-label"
                  ng-show="editPaperForm.affiliation.$error.required" data-i18n="_Required_"></span>
            </div>
        </div>
        <button type="submit" data-i18n="_Save_" ng-click="edit()" ng-disabled="!editProfileForm.$valid || requesting"  ng-class="{'process': requesting}"></button>
    </form>
    <h2 data-i18n="_Notification_settings_"></h2>
    <form name="editNotificationsForm">
      <div class="grid">
        <div class="col c1-3">
          <label for="email-notifications" i18n-Tooltip="_email_notifications_tooltip_">Email Notifications</label>
        </div>
        <div class="col c2-3 form-group">
          <input id="email-notifications" type="checkbox" ng-model="notificationsSettings.email_notifications" style="display: none">
          <label for="email-notifications" ng-if="notificationsSettings.email_notifications" data-i18n="_On_"></label>
          <label for="email-notifications" ng-if="!notificationsSettings.email_notifications" data-i18n="_Off_"></label>
        </div>
      </div>
      <div class="grid">
        <div class="col c1-3">
          <label for="api-notifications" i18n-Tooltip="_api_notifications_tooltip_">UI Notifications</label>
        </div>
        <div class="col c2-3 form-group">
          <input id="api-notifications" type="checkbox" ng-model="notificationsSettings.api_notifications" style="display: none">
          <label for="api-notifications" ng-if="notificationsSettings.api_notifications" data-i18n="_On_"></label>
          <label for="api-notifications" ng-if="!notificationsSettings.api_notifications" data-i18n="_Off_"></label>
        </div>
      </div>
      <button type="submit" data-i18n="_Save_" ng-click="editNotifications()" ng-disabled="requesting"  ng-class="{'process': requesting}"></button>
    </form>
    <h2 data-i18n="_Reset_password_"></h2>
    <button  data-i18n="_Reset_password_" ng-click="reset()" ng-disabled="requesting"  ng-class="{'process': requesting}"></button>
    <h2 data-i18n="_Delete_account_"></h2>
    <div class="grid" ng-if="displayCaptcha">
      <div class="col c1-3">
        <label for="recaptcha_response_field" data-i18n="_Captcha_"></label>
        <span class="control-label"
            ng-show="registerForm.recaptcha_response_field.$error.required" data-i18n="_Required_"></span>
      </div>
      <div class="col c2-3 form-group"
        ng-class="{'has-error': registerForm.recaptcha_response_field.$invalid}">
        <div re-captcha required class="captcha"></div>
      </div>
    </div>
    <button data-i18n="_Delete_account_" ng-click="delete()" ng-disabled="requesting"  ng-class="{'process': requesting}"></button>
</div>
